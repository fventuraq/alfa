(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["deviceEdit"],{"4d7f":function(o,t,e){"use strict";e.r(t);var n=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",[e("h2",[o._v("Edit Virtual Device")]),e("b-alert",{attrs:{show:o.msg.show,variant:o.msg.type}},[o._v("\n          "+o._s(o.msg.text)+"\n      ")]),e("b-form",{on:{submit:o.onSubmit}},[e("b-form-group",{attrs:{id:"input-group-1",label:"Name:","label-for":"name"}},[e("b-form-input",{attrs:{id:"name",type:"text",required:""},model:{value:o.form.name,callback:function(t){o.$set(o.form,"name",t)},expression:"form.name"}})],1),e("b-form-group",{attrs:{id:"input-group-3",label:"Edge Node:","label-for":"node"}},[e("b-form-select",{staticClass:"mt-3",staticStyle:{"margin-top":"0px!important"},attrs:{id:"nodeIp",options:o.nodes,size:"sm"},model:{value:o.form.nodeIp,callback:function(t){o.$set(o.form,"nodeIp",t)},expression:"form.nodeIp"}})],1),e("b-form-group",{attrs:{id:"input-group-1",label:"Physical Path:","label-for":"physicalPath"}},[e("b-form-input",{attrs:{id:"physicalPath",type:"text"},model:{value:o.form.physicalPath,callback:function(t){o.$set(o.form,"physicalPath",t)},expression:"form.physicalPath"}})],1),e("b-form-group",{attrs:{id:"input-group-3",label:"Connection Type:","label-for":"connectionType"}},[e("b-form-select",{staticClass:"mt-3",staticStyle:{"margin-top":"0px!important"},attrs:{id:"connectionType",options:o.connectionTypes,size:"sm"},model:{value:o.form.connectionType,callback:function(t){o.$set(o.form,"connectionType",t)},expression:"form.connectionType"}})],1),e("b-form-group",{attrs:{id:"input-group-2",label:"Connection Parameters:","label-for":"parameters"}},[e("b-textarea",{attrs:{id:"connectionParameters"},model:{value:o.form.connectionParameters,callback:function(t){o.$set(o.form,"connectionParameters",t)},expression:"form.connectionParameters"}})],1),e("b-form-group",{attrs:{id:"input-group-3",label:"Location:","label-for":"location"}},[e("b-form-select",{staticClass:"mt-3",staticStyle:{"margin-top":"0px!important"},attrs:{id:"location",options:o.locations,size:"sm"},model:{value:o.form.location,callback:function(t){o.$set(o.form,"location",t)},expression:"form.location"}})],1),e("b-form-group",{attrs:{id:"input-group-2",label:"Description:","label-for":"description"}},[e("b-form-input",{attrs:{id:"description",type:"text"},model:{value:o.form.description,callback:function(t){o.$set(o.form,"description",t)},expression:"form.description"}})],1),e("b-form-group",{attrs:{id:"input-group-6",label:"Output Type:","label-for":"outputType"}},[e("b-form-radio",{attrs:{name:"outputType",value:"video"},model:{value:o.form.outputType,callback:function(t){o.$set(o.form,"outputType",t)},expression:"form.outputType"}},[o._v("Video")]),e("b-form-radio",{attrs:{name:"outputType",value:"audio"},model:{value:o.form.outputType,callback:function(t){o.$set(o.form,"outputType",t)},expression:"form.outputType"}},[o._v("Audio")]),e("b-form-radio",{attrs:{name:"outputType",value:"audioevideo"},model:{value:o.form.outputType,callback:function(t){o.$set(o.form,"outputType",t)},expression:"form.outputType"}},[o._v("Audio & Video")])],1),e("b-row",[e("b-col",[e("b-button",{attrs:{type:"submit",variant:"primary"}},[o._v("Save")])],1),e("b-col",{staticClass:"text-right"},[e("b-button",{attrs:{to:"/device",variant:"secondary"}},[o._v("Back")])],1)],1)],1)],1)},a=[],r=(e("7f7f"),e("7668")),i=e("a0df"),s=e("827f"),c={name:"deviceEdit",data:function(){return{locations:[],nodes:[],connectionTypes:[],form:{id:"",name:"",physicalPath:"",connectionType:"",connectionParameters:"",location:"",description:"",nodeIp:"",node:"",outputType:"video"},msg:{text:!1,type:"",show:!1}}},methods:{onSubmit:function(o){var t=this;o.preventDefault();for(var e=0;e<this.nodes.length;e++)this.nodes[e].value==this.form.nodeIp&&(this.form.node=this.nodes[e].id);r["a"].updateDevice(this.form).then((function(){t.msg.text="Device saved",t.msg.type="success",t.msg.show=!0})).catch((function(o){t.msg.text="Error when saving device ".concat(o),t.msg.type="danger",t.msg.show=!0}))},refresh:function(){var o=this;s["a"].getNodesForSelect().then((function(t){o.nodes=t})),i["a"].getLocationsForSelect().then((function(t){o.locations=t})),r["a"].getConnectionTypes().then((function(t){o.connectionTypes=t})),r["a"].getDevice(this.$route.params.id).then((function(t){o.form.id=t._id,o.form.name=t.name,o.form.physicalPath=t.physicalPath,o.form.connectionType=t.connectionType,o.form.connectionParameters=t.connectionParameters,o.form.description=t.description,o.form.location=t.location,o.form.node=t.node._id,o.form.nodeIp=t.node.ip,o.form.outputType=t.outputType;for(var e=0;e<o.nodes.length;e++)o.nodes[e].value==o.form.nodeIp&&(o.form.node=o.nodes[e].id)}))}},created:function(){this.refresh()}},p=c,m=e("2877"),l=Object(m["a"])(p,n,a,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=deviceEdit.2eeea048.js.map